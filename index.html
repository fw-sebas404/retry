<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evitar suspensión de pantalla</title>
    <script>
        let wakeLock = null;

        // Función para activar el Wake Lock
        async function requestWakeLock() {
            try {
                wakeLock = await navigator.wakeLock.request('screen'); // Solicitar que la pantalla no se apague
                console.log('Pantalla manteniéndose despierta.');
                
                // Si el dispositivo cambia de visibilidad (bloqueo/desbloqueo), reactivar el Wake Lock
                document.addEventListener('visibilitychange', async () => {
                    if (wakeLock !== null && document.visibilityState === 'visible') {
                        wakeLock = await navigator.wakeLock.request('screen');
                    }
                });
            } catch (err) {
                console.error('Error al solicitar el Wake Lock:', err);
            }
        }

        // Función para liberar el Wake Lock
        function releaseWakeLock() {
            if (wakeLock !== null) {
                wakeLock.release();
                wakeLock = null;
                console.log('Wake Lock liberado.');
            }
        }

        window.onload = requestWakeLock; // Activar el Wake Lock al cargar la página
    </script>
</head>
<body>
    <h1>Evitar suspensión de pantalla</h1>
    <p>La pantalla permanecerá encendida mientras esta página esté abierta.</p>
    <button onclick="releaseWakeLock()">Liberar Wake Lock</button>
</body>
</html>
